/* Analysis layout inherits grid from .container.analysis */

/* Left: Board + nav moves */
.analysis .left {
  background: var(--surface); border: 1px solid var(--outline); border-radius: var(--radius-l); padding: 14px; box-shadow: var(--shadow-1);
}
.board-overlay {
  position: absolute; inset: 0; display: flex; align-items: flex-start; justify-content: flex-end; pointer-events: none; padding: 8px;
}
.analysis-indicator {
  display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px;
  background: var(--surface); border: 1px solid var(--outline); box-shadow: var(--shadow-1);
  opacity: .95;
}

.nav-moves {
  display: grid; grid-template-columns: auto auto 1fr auto auto; gap: 8px; align-items: center;
  margin-top: 10px; background: var(--surface-2); border: 1px solid var(--outline); border-radius: 12px; padding: 8px;
}
.nav-btn { background: var(--surface); border: 1px solid var(--outline); border-radius: 10px; padding: 8px 10px; box-shadow: var(--shadow-1); }
.move-counter {
  display: inline-flex; align-items: center; gap: 8px; justify-content: center;
  background: var(--surface); border: 1px solid var(--outline); border-radius: 10px; padding: 6px 10px; font-weight: 700;
}

/* Right: Tools & Upload & Report & Explorer */
.analysis .right { display: grid; gap: 12px; }

.upload-section, .analysis-tools, .report-section, .explorer-section {
  background: var(--surface); border: 1px solid var(--outline); border-radius: var(--radius-l); padding: 12px; box-shadow: var(--shadow-1);
}
.upload-header, .tools-header, .report-header, .explorer-header, .analysis-header {
  display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;
}
.loader-row { display: flex; align-items: end; gap: 10px; flex-wrap: wrap; }

.textarea-wrapper textarea {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  background: var(--surface-2);
}

/* Tools grid */
.tools-grid {
  display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 8px;
}
.tool-btn {
  display: flex; gap: 10px; align-items: center; justify-content: flex-start; text-align: left;
  background: var(--surface-2); border: 1px solid var(--outline); border-radius: 12px; padding: 12px; box-shadow: var(--shadow-1);
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.tool-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-2); border-color: color-mix(in oklab, var(--primary) 35%, var(--outline)); }
.tool-icon { font-size: 18px; }
.tool-title { font-weight: 700; }
.tool-desc { color: var(--muted); display: block; }

.tool-btn.quick { background: linear-gradient(180deg, color-mix(in oklab, #60a5fa 14%, var(--surface-2)), var(--surface-2)); }
.tool-btn.deep { background: linear-gradient(180deg, color-mix(in oklab, #f59e0b 14%, var(--surface-2)), var(--surface-2)); }
.tool-btn.suggest { background: linear-gradient(180deg, color-mix(in oklab, #22c55e 14%, var(--surface-2)), var(--surface-2)); }

/* Report */
.report { border: 1px solid var(--outline); border-radius: 12px; padding: 10px; background: var(--surface-2); min-height: 120px; }
.report-status { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--outline); background: var(--surface); }

/* Explorer */
.explorer { display: grid; gap: 10px; }
.explorer-controls { display: flex; align-items: end; gap: 10px; flex-wrap: wrap; }
.select-enhanced { min-width: 180px; }
.explist {
  min-height: 120px; background: var(--surface-2); border: 1px dashed var(--outline); border-radius: 12px; padding: 10px;
}

/* Smaller screens */
@media (max-width: 720px) {
  .tools-grid { grid-template-columns: 1fr; }
}
