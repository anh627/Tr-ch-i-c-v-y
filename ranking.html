<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Học Cờ Vây – GoMaster</title>
  <meta name="description" content="Học luật Cờ Vây tương tác: khí, bắt quân, ko, đếm điểm và luyện tsumego cơ bản." />
  <meta property="og:site_name" content="GoMaster" />
  <meta property="og:title" content="Học Cờ Vây – GoMaster" />
  <meta property="og:description" content="Bài học tương tác và bài luyện sống/chết cho người mới." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="vi_VN" />
  <meta name="twitter:card" content="summary" />
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="styles/learn.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body data-page="learn">
<a class="skip-link" href="#main">Bỏ qua tới nội dung chính</a>

<header class="topbar" role="banner">
  <a class="brand" href="index.html">
    <span class="brand-icon">⚫⚪</span>
    <span class="brand-text">GoMaster</span>
  </a>
  <nav class="nav" aria-label="Điều hướng chính">
    <a href="index.html" class="nav-link">
      <span class="nav-icon">🏠</span>
      <span>Trang chủ</span>
    </a>
    <a href="learn.html" aria-current="page" class="nav-link nav-active">
      <span class="nav-icon">📚</span>
      <span>Học</span>
    </a>
    <a href="play.html" class="nav-link">
      <span class="nav-icon">🎮</span>
      <span>Chơi</span>
    </a>
    <a href="analysis.html" class="nav-link">
      <span class="nav-icon">📊</span>
      <span>Phân tích</span>
    </a>
    <a href="ranking.html" class="nav-link">
      <span class="nav-icon">🏆</span>
      <span>Xếp hạng</span>
    </a>
    <a href="profile.html" class="nav-link">
      <span class="nav-icon">👤</span>
      <span>Hồ sơ</span>
    </a>
    <button id="themeToggle" class="btn ghost theme-btn" type="button" aria-label="Đổi chế độ sáng/tối" aria-pressed="false" title="Đổi chế độ sáng/tối">
      <span class="theme-icon">🌗</span>
    </button>
  </nav>
</header>

<main id="main" class="container learn">
  <div class="page-header">
    <h1>
      <span class="page-icon">🎓</span>
      <span class="title-text">Học luật tương tác</span>
      <span class="page-badge">
        <span class="badge-icon">🌟</span>
        <span>Newbie Friendly</span>
      </span>
    </h1>
    <p class="page-subtitle">
      <span class="subtitle-icon">✨</span>
      Từng bước một, thành thạo Cờ Vây! Học vui, hiệu quả với AI hỗ trợ
      <span class="subtitle-emoji">🚀</span>
    </p>
  </div>

  <div class="learn-grid">
    <aside class="steps" role="navigation" aria-label="Các bước học">
      <div class="steps-header">
        <h2>
          <span class="steps-icon">📋</span>
          <span>Lộ trình học tập</span>
        </h2>
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 25%"></div>
          </div>
          <div class="progress-text">
            <span class="progress-current">1</span>
            <span class="progress-separator">/</span>
            <span class="progress-total">4</span>
            <span class="progress-label">bước hoàn thành</span>
          </div>
        </div>
      </div>
      
      <div class="steps-list">
        <button class="step active" data-step="1" type="button" aria-pressed="true" title="Bước 1: Khí (Liberties)">
          <span class="step-icon">💨</span>
          <div class="step-content">
            <span class="step-title">1. Khí (Liberties)</span>
            <span class="step-desc">Hiểu về không gian sống của quân cờ</span>
          </div>
          <span class="step-status">✅</span>
        </button>
        
        <button class="step" data-step="2" type="button" aria-pressed="false" title="Bước 2: Bắt quân">
          <span class="step-icon">🎯</span>
          <div class="step-content">
            <span class="step-title">2. Bắt quân</span>
            <span class="step-desc">Cách loại bỏ quân đối thủ</span>
          </div>
          <span class="step-status">⏳</span>
        </button>
        
        <button class="step" data-step="3" type="button" aria-pressed="false" title="Bước 3: Ko">
          <span class="step-icon">⚖️</span>
          <div class="step-content">
            <span class="step-title">3. Luật Ko</span>
            <span class="step-desc">Ngăn chặn lặp vô hạn</span>
          </div>
          <span class="step-status">🔒</span>
        </button>
        
        <button class="step" data-step="4" type="button" aria-pressed="false" title="Bước 4: Đếm điểm">
          <span class="step-icon">🔢</span>
          <div class="step-content">
            <span class="step-title">4. Đếm điểm</span>
            <span class="step-desc">Xác định người chiến thắng</span>
          </div>
          <span class="step-status">🔒</span>
        </button>
      </div>
      
      <div class="steps-footer">
        <div class="achievement-badge">
          <span class="achievement-icon">🏅</span>
          <span class="achievement-text">Hoàn thành để mở khóa chế độ Casual!</span>
        </div>
      </div>
    </aside>

    <section class="board-pane" aria-labelledby="learnBoardLabel">
      <div class="board-header">
        <h2 id="learnBoardLabel">
          <span class="board-icon">🎲</span>
          <span>Bàn học tương tác</span>
        </h2>
        <div class="difficulty-badge">
          <span class="difficulty-icon">🌱</span>
          <span>Cơ bản</span>
        </div>
      </div>
      
      <p id="learnBoardHelp" class="sr-only">
        Điều khiển bàn: chuột để đặt quân, bàn phím mũi tên để di chuyển con trỏ, Enter để đặt, Backspace để hoàn tác (nếu có).
      </p>
      
      <div class="board-container">
        <canvas id="learnBoard" width="480" height="480" tabindex="0" aria-label="Bàn học 9×9" aria-describedby="learnBoardHelp">
          Trình duyệt của bạn không hỗ trợ canvas.
        </canvas>
        <div class="board-hints">
          <div class="hint-item">
            <span class="hint-icon">💡</span>
            <span class="hint-text">Click để đặt quân</span>
          </div>
          <div class="hint-item">
            <span class="hint-icon">⌨️</span>
            <span class="hint-text">Dùng phím mũi tên để di chuyển</span>
          </div>
        </div>
      </div>
      
      <div class="board-controls">
        <button id="prevStep" class="btn secondary" type="button">
          <span class="btn-icon">⬅️</span>
          <span>Bước trước</span>
        </button>
        <button id="nextStep" class="btn primary" type="button">
          <span>Bước tiếp</span>
          <span class="btn-icon">➡️</span>
        </button>
        <button id="resetStep" class="btn ghost" type="button">
          <span class="btn-icon">🔄</span>
          <span>Làm lại</span>
        </button>
      </div>
      
      <div class="explain" id="learnExplain" role="status" aria-live="polite">
        <div class="explain-content">
          <span class="explain-icon">💡</span>
          <div class="explain-text">
            <h3 class="explain-title">Chào mừng đến với GoMaster!</h3>
            <p>Chọn một bước trong lộ trình bên trái để bắt đầu hành trình học Cờ Vây. Mỗi bước sẽ có hướng dẫn chi tiết và bài tập thực hành.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="practice" aria-labelledby="practiceTitle">
      <div class="practice-header">
        <h2 id="practiceTitle">
          <span class="practice-icon">🧩</span>
          <span>Luyện Tsumego</span>
        </h2>
        <div class="practice-badge">
          <span class="badge-icon">⭐</span>
          <span>Sống/Chết</span>
        </div>
      </div>
      
      <div class="practice-intro">
        <p class="practice-desc">
          <span class="desc-icon">🎯</span>
          <span>Chọn nước đen đi trước để bắt sống/giết nhóm. Có gợi ý AI nếu cần thiết!</span>
        </p>
        <div class="practice-stats">
          <div class="stat-item">
            <span class="stat-icon">🔥</span>
            <span class="stat-value">0</span>
            <span class="stat-label">Streak</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">🎯</span>
            <span class="stat-value">0%</span>
            <span class="stat-label">Chính xác</span>
          </div>
        </div>
      </div>
      
      <div class="practice-controls">
        <div class="practice-row">
          <div class="control-group">
            <label for="puzzleSelect">
              <span class="label-icon">📝</span>
              <span>Chọn bài tập:</span>
            </label>
            <select id="puzzleSelect" class="select enhanced" aria-describedby="puzzleHelp">
              <option value="1">🌱 Bài 1: Cơ bản</option>
              <option value="2">🌿 Bài 2: Dễ</option>
              <option value="3">🌳 Bài 3: Trung bình</option>
            </select>
            <small id="puzzleHelp" class="sr-only">Chọn bài luyện Tsumego.</small>
          </div>
          
          <div class="action-group">
            <button id="puzzleHint" class="btn ghost hint-btn" type="button">
              <span class="btn-icon">💡</span>
              <span>Gợi ý AI</span>
            </button>
            <button id="puzzleReset" class="btn secondary" type="button">
              <span class="btn-icon">🔄</span>
              <span>Đặt lại</span>
            </button>
          </div>
        </div>
      </div>
      
      <p id="puzzleBoardHelp" class="sr-only">
        Bàn luyện 9×9. Dùng chuột hoặc bàn phím để chọn nước đi. Enter để đặt.
      </p>
      
      <div class="puzzle-board-container">
        <canvas id="puzzleBoard" width="360" height="360" tabindex="0" aria-label="Bàn luyện 9×9" aria-describedby="puzzleBoardHelp">
          Trình duyệt của bạn không hỗ trợ canvas.
        </canvas>
      </div>
      
      <div id="puzzleFeedback" class="feedback" role="status" aria-live="polite">
        <div class="feedback-content">
          <span class="feedback-icon">🤔</span>
          <div class="feedback-text">
            <h4 class="feedback-title">Sẵn sàng thử thách!</h4>
            <p>Chọn một bài tập và bắt đầu giải. AI sẽ hỗ trợ bạn khi cần thiết.</p>
          </div>
        </div>
      </div>
      
      <div class="practice-tips">
        <h3 class="tips-title">
          <span class="tips-icon">💡</span>
          <span>Mẹo học tập</span>
        </h3>
        <ul class="tips-list">
          <li class="tip-item">
            <span class="tip-bullet">🎯</span>
            <span>Hãy suy nghĩ trước khi đặt quân</span>
          </li>
          <li class="tip-item">
            <span class="tip-bullet">🔄</span>
            <span>Thử lại nhiều lần để hiểu rõ</span>
          </li>
                    <li class="tip-item">
            <span class="tip-bullet">💡</span>
            <span>Sử dụng gợi ý khi thực sự cần</span>
          </li>
          <li class="tip-item">
            <span class="tip-bullet">⏰</span>
            <span>Luyện tập 10-15 phút mỗi ngày</span>
          </li>
        </ul>
      </div>
    </section>
  </div>
</main>

<footer class="footer">
  <div class="footer-content">
    <div class="footer-brand">
      <span class="brand-icon">⚫⚪</span>
      <span class="brand-text">GoMaster</span>
    </div>
    
    <div class="footer-tips">
      <div class="footer-tip">
        <span class="tip-icon">💡</span>
        <small><strong>Mẹo:</strong> Hãy luyện tập 10–15 phút mỗi ngày để tiến bộ nhanh nhất! 🚀</small>
      </div>
      <div class="footer-encouragement">
        <span class="encourage-icon">🌟</span>
        <small>Bạn đang trên con đường trở thành cao thủ Cờ Vây! Cố gắng lên! 💪</small>
      </div>
    </div>
    
    <div class="footer-links">
      <a href="#about" class="footer-link">
        <span class="link-icon">ℹ️</span>
        <span>Về chúng tôi</span>
      </a>
      <a href="#contact" class="footer-link">
        <span class="link-icon">📧</span>
        <span>Liên hệ</span>
      </a>
      <a href="#help" class="footer-link">
        <span class="link-icon">❓</span>
        <span>Trợ giúp</span>
      </a>
    </div>
    
    <div class="footer-bottom">
      <small class="copyright">
        <span class="copyright-icon">©</span>
        2025 GoMaster. Made with 
        <span class="heart-icon">❤️</span> 
        for Go community in Vietnam 
        <span class="flag-icon">🇻🇳</span>
      </small>
    </div>
  </div>
</footer>

<!-- Audio Effects -->
<audio id="sfxPlace" src="assets/sounds/stone-place.mp3" preload="auto" aria-hidden="true"></audio>
<audio id="sfxCapture" src="assets/sounds/capture.mp3" preload="auto" aria-hidden="true"></audio>
<audio id="sfxSuccess" src="assets/sounds/success.mp3" preload="auto" aria-hidden="true"></audio>
<audio id="sfxHint" src="assets/sounds/hint.mp3" preload="auto" aria-hidden="true"></audio>

<!-- Loading Overlay -->
<div id="loadingOverlay" class="loading-overlay" style="display: none;">
  <div class="loading-content">
    <div class="loading-spinner">
      <span class="spinner-icon">⚫</span>
      <span class="spinner-icon">⚪</span>
    </div>
    <p class="loading-text">
      <span class="loading-icon">🤖</span>
      <span>AI đang chuẩn bị bài học...</span>
    </p>
  </div>
</div>

<!-- Success Modal -->
<div id="successModal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title">
        <span class="modal-icon">🎉</span>
        <span>Chúc mừng!</span>
      </h3>
      <button class="modal-close" type="button" aria-label="Đóng">
        <span class="close-icon">✖️</span>
      </button>
    </div>
    <div class="modal-body">
      <p class="modal-text">
        <span class="success-icon">✅</span>
        <span>Bạn đã hoàn thành bước này! Hãy tiếp tục với bước tiếp theo.</span>
      </p>
    </div>
    <div class="modal-footer">
      <button class="btn primary modal-btn" type="button">
        <span class="btn-icon">➡️</span>
        <span>Bước tiếp theo</span>
      </button>
    </div>
  </div>
</div>

<noscript>
  <div class="noscript-message">
    <div class="noscript-content">
      <span class="noscript-icon">⚠️</span>
      <h2>JavaScript bị tắt</h2>
      <p>Trang này cần JavaScript để hoạt động đầy đủ. Vui lòng bật JavaScript trong trình duyệt của bạn.</p>
    </div>
  </div>
</noscript>

<!-- Scripts -->
<script src="js/main.js" defer></script>
<script src="js/game.js" defer></script>
<script src="js/ai.js" defer></script>
<script src="js/security.js" defer></script>
<script src="js/learn.js" defer></script>
</body>
</html>
