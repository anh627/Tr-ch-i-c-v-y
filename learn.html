<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Học Cờ Vây – GoMaster</title>
  <meta name="description" content="Học luật Cờ Vây tương tác: khí, bắt quân, ko, đếm điểm và luyện tsumego cơ bản." />
  <meta property="og:site_name" content="GoMaster" />
  <meta property="og:title" content="Học Cờ Vây – GoMaster" />
  <meta property="og:description" content="Bài học tương tác và bài luyện sống/chết cho người mới." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="vi_VN" />
  <meta name="twitter:card" content="summary" />
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="styles/learn.css" />
</head>
<body data-page="learn">
<a class="skip-link" href="#main">Bỏ qua tới nội dung chính</a>

<header class="topbar" role="banner">
  <a class="brand" href="index.html">GoMaster</a>
  <nav class="nav" aria-label="Điều hướng chính">
    <a href="index.html">Trang chủ</a>
    <a href="learn.html" aria-current="page">Học</a>
    <a href="play.html">Chơi</a>
    <a href="analysis.html">Phân tích</a>
    <a href="ranking.html">Xếp hạng</a>
    <a href="profile.html">Hồ sơ</a>
    <button id="themeToggle" class="btn ghost" type="button" aria-label="Đổi chế độ sáng/tối" aria-pressed="false" title="Đổi chế độ sáng/tối">🌗</button>
  </nav>
</header>

<main id="main" class="container learn">
  <h1>Học luật tương tác</h1>
  <div class="learn-grid">
    <aside class="steps" role="navigation" aria-label="Các bước học">
      <button class="step active" data-step="1" type="button" aria-pressed="true" title="Bước 1: Khí (Liberties)">1. Khí (Liberties)</button>
      <button class="step" data-step="2" type="button" aria-pressed="false" title="Bước 2: Bắt quân">2. Bắt quân</button>
      <button class="step" data-step="3" type="button" aria-pressed="false" title="Bước 3: Ko">3. Ko</button>
      <button class="step" data-step="4" type="button" aria-pressed="false" title="Bước 4: Đếm điểm">4. Đếm điểm</button>
    </aside>

    <section class="board-pane" aria-labelledby="learnBoardLabel">
      <h2 id="learnBoardLabel" class="sr-only">Bàn học 9×9</h2>
      <p id="learnBoardHelp" class="sr-only">
        Điều khiển bàn: chuột để đặt quân, bàn phím mũi tên để di chuyển con trỏ, Enter để đặt, Backspace để hoàn tác (nếu có).
      </p>
      <canvas id="learnBoard" width="480" height="480" tabindex="0" aria-label="Bàn học 9×9" aria-describedby="learnBoardHelp">
        Trình duyệt của bạn không hỗ trợ canvas.
      </canvas>
      <div class="board-controls">
        <button id="prevStep" class="btn" type="button">← Bước trước</button>
        <button id="nextStep" class="btn" type="button">Bước tiếp →</button>
        <button id="resetStep" class="btn ghost" type="button">Làm lại</button>
      </div>
      <div class="explain" id="learnExplain" role="status" aria-live="polite"></div>
    </section>

    <section class="practice" aria-labelledby="practiceTitle">
      <h2 id="practiceTitle">Luyện Tsumego (cơ bản)</h2>
      <p>Chọn nước đen đi trước để bắt sống/giết nhóm. Có gợi ý nếu cần.</p>
      <div class="practice-row">
        <label for="puzzleSelect">Chọn bài</label>
        <select id="puzzleSelect" class="select" aria-describedby="puzzleHelp"></select>
        <small id="puzzleHelp" class="sr-only">Chọn bài luyện Tsumego.</small>
        <button id="puzzleHint" class="btn ghost" type="button">Gợi ý</button>
        <button id="puzzleReset" class="btn" type="button">Đặt lại</button>
      </div>
      <p id="puzzleBoardHelp" class="sr-only">
        Bàn luyện 9×9. Dùng chuột hoặc bàn phím để chọn nước đi. Enter để đặt.
      </p>
      <canvas id="puzzleBoard" width="360" height="360" tabindex="0" aria-label="Bàn luyện 9×9" aria-describedby="puzzleBoardHelp">
        Trình duyệt của bạn không hỗ trợ canvas.
      </canvas>
      <div id="puzzleFeedback" class="feedback" role="status" aria-live="polite"></div>
    </section>
  </div>
</main>

<footer class="footer">
  <small>Tip: Hãy luyện 10–15 phút mỗi ngày.</small>
</footer>

<audio id="sfxPlace" src="assets/sounds/stone-place.mp3" preload="auto" aria-hidden="true"></audio>
<audio id="sfxCapture" src="assets/sounds/capture.mp3" preload="auto" aria-hidden="true"></audio>

<noscript><p>Trang này cần JavaScript để hoạt động đầy đủ.</p></noscript>
<script src="js/main.js" defer></script>
<script src="js/game.js" defer></script>
<script src="js/ai.js" defer></script>
<script src="js/security.js" defer></script>
</body>
</html>
