<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chơi Cờ Vây – GoMaster</title>
  <meta name="description" content="Chơi Cờ Vây 9×9/13×13/19×19 với AI hoặc 2 người, có gợi ý, undo và tóm tắt sau ván." />
  <meta property="og:site_name" content="GoMaster" />
  <meta property="og:title" content="Chơi Cờ Vây – GoMaster" />
  <meta property="og:description" content="Thiết lập luật, komi, bật/tắt ranked và chơi với AI nhiều mức độ." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="vi_VN" />
  <meta name="twitter:card" content="summary" />
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="styles/play.css" />
</head>
<body data-page="play">
<a class="skip-link" href="#main">Bỏ qua tới nội dung chính</a>

<header class="topbar" role="banner">
  <a class="brand" href="index.html">GoMaster</a>
  <nav class="nav" aria-label="Điều hướng chính">
    <a href="index.html">Trang chủ</a>
    <a href="learn.html">Học</a>
    <a href="play.html" aria-current="page">Chơi</a>
    <a href="analysis.html">Phân tích</a>
    <a href="ranking.html">Xếp hạng</a>
    <a href="profile.html">Hồ sơ</a>
    <button id="themeToggle" class="btn ghost" type="button" aria-label="Đổi chế độ sáng/tối" aria-pressed="false" title="Đổi chế độ sáng/tối">🌗</button>
  </nav>
</header>

<main id="main" class="container play">
  <section class="left" aria-labelledby="playBoardLabel">
    <h1 id="playBoardLabel" class="sr-only">Bàn chơi</h1>
    <p id="playBoardHelp" class="sr-only">
      Điều khiển bàn: chuột để đặt quân, mũi tên để di chuyển, Enter để đặt, Backspace/Undo để hoàn tác, P để Pass.
    </p>
    <canvas id="playBoard" width="640" height="640" tabindex="0" aria-label="Bàn chơi" aria-describedby="playBoardHelp">
      Trình duyệt của bạn không hỗ trợ canvas.
    </canvas>
    <div class="board-actions">
      <button id="btnPass" class="btn" type="button" title="Bỏ lượt (Pass)">Pass</button>
      <button id="btnResign" class="btn danger" type="button" title="Đầu hàng ván này">Đầu hàng</button>
      <button id="btnHint" class="btn ghost" type="button" title="Gợi ý nước đi">Gợi ý</button>
      <button id="btnUndo" class="btn ghost" type="button" title="Hoàn tác nước đi gần nhất">Undo</button>
    </div>
    <div class="statusbar" id="playStatus" role="status" aria-live="polite">Sẵn sàng.</div>
  </section>

  <section class="right" aria-labelledby="playSettingsTitle">
    <h2 id="playSettingsTitle">Thiết lập</h2>
    <div class="form">
      <label for="boardSize">Kích thước:</label>
      <select id="boardSize">
        <option value="9">9×9 (Newbie)</option>
        <option value="13" selected>13×13</option>
        <option value="19">19×19</option>
      </select>

      <label for="ruleSet">Luật:</label>
      <select id="ruleSet">
        <option value="chinese" selected>Chinese (Area)</option>
        <option value="japanese">Japanese (Territory)</option>
      </select>

      <label for="komi">Komi:</label>
      <input type="number" id="komi" value="6.5" step="0.5" min="0" inputmode="decimal" />

      <label for="opponentType">Đối thủ:</label>
      <select id="opponentType">
        <option value="ai" selected>AI</option>
        <option value="hotseat">2 người (cùng máy)</option>
      </select>

      <div id="aiOptions">
        <label for="aiLevel">Độ khó AI:</label>
        <select id="aiLevel">
          <option value="easy">Dễ (Newbie)</option>
          <option value="normal" selected>Trung bình (Casual)</option>
          <option value="hard">Khó</option>
          <option value="pro">Pro</option>
        </select>
      </div>

      <label class="switch" for="rankedToggle">
        <input type="checkbox" id="rankedToggle" aria-describedby="rankedHintText" />
        <span>Ranked (tính điểm kyu/dan)</span>
      </label>
      <small id="rankedHintText" class="sr-only">Khi bật Ranked, chức năng gợi ý sẽ bị khóa.</small>

      <label class="switch" for="showCoords">
        <input type="checkbox" id="showCoords" checked />
        <span>Hiện tọa độ</span>
      </label>

      <label class="switch" for="showLiberties">
        <input type="checkbox" id="showLiberties" />
        <span>Hiện khí</span>
      </label>

      <button id="btnStart" class="btn primary" type="button">Bắt đầu ván</button>
    </div>

    <div class="summary" aria-labelledby="postGameTitle">
      <h3 id="postGameTitle">Tóm tắt sau ván</h3>
      <div id="postGameSummary" role="region" aria-live="polite">Chưa có ván nào.</div>
    </div>
  </section>
</main>

<footer class="footer"><small>Gợi ý bị khóa khi bật Ranked.</small></footer>

<audio id="sfxPlace" src="assets/sounds/stone-place.mp3" preload="auto" aria-hidden="true"></audio>
<audio id="sfxCapture" src="assets/sounds/capture.mp3" preload="auto" aria-hidden="true"></audio>

<noscript><p>Trang này cần JavaScript để hoạt động đầy đủ.</p></noscript>
<script src="js/main.js" defer></script>
<script src="js/game.js" defer></script>
<script src="js/ai.js" defer></script>
<script src="js/security.js" defer></script>
</body>
</html>
